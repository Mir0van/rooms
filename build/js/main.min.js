(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

var _reservation = require("./modules/reservation/reservation");
window.addEventListener('DOMContentLoaded', function () {
  // Utils
  // ---------------------------------

  // Modules
  // ---------------------------------
  (0, _reservation.initReservation)();
  window.addEventListener('load', function () {
    // контент не участвующий в работе первого экрана
  });
});

},{"./modules/reservation/reservation":3}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.addMobileStyles = void 0;
var _mobileChecker = require("../../utils/mobile-checker");
var addMobileStyles = exports.addMobileStyles = function addMobileStyles(element) {
  if (!(0, _mobileChecker.mobileChecker)()) {
    return;
  }
  var motivation = element.querySelector('.room__motivation');
  if (motivation) {
    motivation.classList.add('room__motivation--visible');
  }
};

},{"../../utils/mobile-checker":4}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.initReservation = void 0;
var _mobileChecker = require("../../utils/mobile-checker");
var _mobileStylesToggle = require("./mobile-styles-toggle");
var rooms = document.querySelectorAll('[data-room]');
var onButtonReservationClick = function onButtonReservationClick(evt) {
  var button = evt.currentTarget;
  var room = button.closest('[data-room]');
  button.classList.toggle('is-pressed');
  if (!(0, _mobileChecker.mobileChecker)()) {
    return;
  }
  if (button.classList.contains('is-pressed')) {
    room.classList.add('is-reserved');
  }
};
var onRoomMouseleave = function onRoomMouseleave(evt, buttonReservation) {
  var room = evt.currentTarget.parentNode;
  if (buttonReservation.classList.contains('is-pressed')) {
    room.classList.add('is-reserved');
  }
};
var onRoomClick = function onRoomClick(evt, buttonReservation) {
  if (evt.target.classList.contains('room__reservation-link') || evt.target === buttonReservation) {
    return;
  }
  var roomChild = evt.currentTarget;
  var room = roomChild.parentNode;
  if (room.classList.contains('is-reserved')) {
    room.classList.remove('is-reserved');
    buttonReservation.classList.remove('is-pressed');
  }
};
var initReservation = exports.initReservation = function initReservation() {
  if (!rooms || !rooms.length) {
    return;
  }
  rooms.forEach(function (room) {
    var buttonReservation = room.querySelector('[data-button-book]');
    var roomChild = room.children[0];
    roomChild.addEventListener('mouseleave', function (evt) {
      onRoomMouseleave(evt, buttonReservation);
    });
    roomChild.addEventListener('click', function (evt) {
      onRoomClick(evt, buttonReservation);
    });
    buttonReservation.addEventListener('click', onButtonReservationClick);
    (0, _mobileStylesToggle.addMobileStyles)(room);
  });
};

},{"../../utils/mobile-checker":4,"./mobile-styles-toggle":2}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.mobileChecker = void 0;
var mobileChecker = exports.mobileChecker = function mobileChecker() {
  return /iPhone|iPad|iPod|Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
};

},{}]},{},[1])


//# sourceMappingURL=main.min.js.map
